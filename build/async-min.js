(function(){var a={};if(typeof module!="undefined"&&module.exports)module.exports=a;else if(typeof YUI!="undefined"&&YUI.add)YUI.add("async",function(b){b.Async=a},"1.0.6",{requires:[]});else if(typeof window=="object")window.Async=a;else return;var b=[],c=function(a){for(var c=0;c<b.length;c++)try{b[c](a)}catch(d){}};a.Operation=function(b){b=b||{};var d=[],e=[],f=b.chain&&b.chain===!0?!0:!1,g=!1,h=null;this.result=undefined,this.error=undefined,this.state=f?"waiting":"running",this.completed=!1;var i=function(a){for(var b=0;b<e.length;b++)try{e[b](a)}catch(d){}c(a)};this.yield=function(b){var c=this;if(c.error)return this;f?(g=!0,c.result=b,c.state="chain running",c.completed=!1):(c.result=b,c.state="completed",c.completed=!0),setTimeout(function(){if(!h){while(d.length>0&&!c.error){var b=d.shift();if(f){try{var e=b.call(c,c.result)}catch(g){c.error=g,c.state="error",i(c);break}if(e&&e instanceof a.Ope